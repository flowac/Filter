<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Content Filter Test Harness</title>
    <style>
        body { font-family: sans-serif; padding: 20px; background: #eee; }
        .feed { max-width: 600px; margin: 0 auto; background: white; padding: 20px; }
        .content-item {
            border: 1px solid #ddd;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 8px;
            background: #fff;
        }
        .content-item h4 { margin-top: 0; }
        .controls { position: fixed; top: 10px; left: 10px; background:white; padding:10px; border:1px solid #ccc;}
    </style>
</head>
<body>
    <div class="controls">
        <button onclick="addDuplicate()">Add Duplicate Code</button>
        <button onclick="addNew()">Add New Content</button>
        <button onclick="localStorage.clear(); location.reload();">Clear Storage & Reload</button>
        <p>Instructions: Load this page. The script should run automatically.<br>
           If you refresh, 'Original Post' should become hidden because it was stored.<br>
           Click 'Add Duplicate' to see immediate hiding behavior.
        </p>
    </div>

    <div class="feed" id="feed">
        <div class="content-item">
            <h4>Post 1</h4>
            <p>This is the first original post text. It should be visible the first time, and hidden the second time.</p>
        </div>
        <div class="content-item">
            <h4>Post 2</h4>
            <p>Another unique post. Random data: 12345.</p>
        </div>
         <div class="content-item">
            <h4>Post 3 (Duplicate of 1)</h4>
            <p>This is the first original post text. It should be visible the first time, and hidden the second time.</p>
        </div>
    </div>

    <!-- Load the script directly. The metadata header comments are valid JS comments so this works. -->
    <script src="content_filter.user.js"></script>
</body>
</html>
